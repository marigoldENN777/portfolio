<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Countdown Stopwatch</title>
<style>
  body {
    background: #111;
    color: #fff;
    font-family: sans-serif;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .watch {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .column {
    height: 150px;
    width: 80px;
    overflow-y: scroll;
    display: flex;
    flex-direction: column;
    align-items: center;
    scroll-snap-type: y mandatory;
    scrollbar-width: none;
  }

  .column::-webkit-scrollbar {
    display: none;
  }

  .number {
    font-size: 2.5rem;
    text-align: center;
    scroll-snap-align: center;
    height: 50px;
  }

  .highlight {
    position: absolute;
    height: 50px;
    width: 100%;
    border-top: 2px solid #00bfa6;
    border-bottom: 2px solid #00bfa6;
    pointer-events: none;
    top: 50%;
    transform: translateY(-50%);
  }

  button {
    margin-top: 20px;
    background: #00bfa6;
    border: none;
    padding: 10px 20px;
    font-size: 1.2rem;
    border-radius: 10px;
    cursor: pointer;
  }
</style>
</head>
<body>
  <div class="watch">
    <div class="column" id="minutes"></div>
    <span>:</span>
    <div class="column" id="seconds"></div>
    <div class="highlight"></div>
  </div>
  <button id="start">Start Countdown</button>

<script>
  const minuteCol = document.getElementById("minutes");
  const secondCol = document.getElementById("seconds");
  const startBtn = document.getElementById("start");
  let countdown;

  // Fill both columns with numbers 0â€“59
  for (let i = 0; i <= 59; i++) {
    const m = document.createElement("div");
    m.className = "number";
    m.textContent = i.toString().padStart(2, "0");
    minuteCol.appendChild(m);

    const s = document.createElement("div");
    s.className = "number";
    s.textContent = i.toString().padStart(2, "0");
    secondCol.appendChild(s);
  }

  // Helper to get the value of the centered number
  function getSelectedValue(col) {
    const index = Math.round(col.scrollTop / 50);
    return index;
  }

  // Lock/unlock scrolling
  function setScrollEnabled(enabled) {
    minuteCol.style.overflowY = enabled ? "scroll" : "hidden";
    secondCol.style.overflowY = enabled ? "scroll" : "hidden";
  }

  startBtn.addEventListener("click", () => {
    clearInterval(countdown);

    // Disable scrolling during countdown
    setScrollEnabled(false);

    let minutes = getSelectedValue(minuteCol);
    let seconds = getSelectedValue(secondCol);
    let total = minutes * 60 + seconds;

    countdown = setInterval(() => {
      if (total <= 0) {
        clearInterval(countdown);
        setScrollEnabled(true);
        return;
      }

      total--;
      const m = Math.floor(total / 60);
      const s = total % 60;

      minuteCol.scrollTo({ top: m * 50, behavior: "smooth" });
      secondCol.scrollTo({ top: s * 50, behavior: "smooth" });
    }, 1000);
  });
</script>
</body>
</html>
